<app-navbar [pageName]="'Stories'"></app-navbar>
<ion-content>
    <ion-list *ngIf="stories">
      <ion-item *ngFor="let story of stories.entities; let i = index">
        <ion-label>
          {{i + 1}}
        </ion-label>
        <ion-label>{{story.title}}</ion-label>
        <!--<ion-icon *ngIf="isAuthenticated | async" name="pencil-outline" (click)="editStory(story)"></ion-icon>-->
        <ion-icon name="chevron-forward-outline" (click)="viewStory(story)"></ion-icon>
        <ion-icon *ngIf="isAuthenticated | async" color="danger" name="trash-outline" (click)="deleteStory(story)"></ion-icon>
      </ion-item>
    </ion-list>
</ion-content>
<ion-footer>
  <nav *ngIf="stories">
    <ul class="pagination">
      <li class="page-item" *ngFor="let f of stories.firstPages">
        <a [routerLink]="" class="page-link" (click)="loadStories(f)">{{f}}</a>
      </li>

      <li class="page-item disabled" *ngIf="stories.firstPages.length > 0">
        <a [routerLink]="" class="page-link">...</a>
      </li>

      <li class="page-item" *ngFor="let p of stories.previousPages">
        <a [routerLink]="" class="page-link" (click)="loadStories(p)">{{p}}</a>
      </li>

      <li class="page-item active">
        <a class="page-link" [routerLink]="">{{currentPage}}</a>
      </li>

      <li class="page-item" *ngFor="let next of stories.nextPages">
        <a [routerLink]="" class="page-link" (click)="loadStories(next)">{{next}}</a>
      </li>

      <li class="page-item disabled" *ngIf="stories.lastPages.length > 0">
        <a [routerLink]="" class="page-link">...</a>
      </li>


      <li class="page-item" *ngFor="let l of stories.lastPages">
        <a [routerLink]="" class="page-link" (click)="loadStories(l)">{{l}}</a>
      </li>
    </ul>
  </nav>

  <ion-button expand="block" color="thistle" (click)="startStory()">Start new story</ion-button>
</ion-footer>
